{% extends "_base.html" %}
{% block content %}

<style>
  /* ===== GRID CHO LỊCH THÁNG ===== */
  .month-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 12px;
  }

  .day-card {
    height: 95px;
    border-radius: 14px;
    transition: transform 0.15s ease, box-shadow 0.15s ease;
  }

  .day-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(0,0,0,0.15);
  }

  .day-number {
    font-size: 20px;
    font-weight: 700;
  }

  .day-status {
    font-size: 13px;
    opacity: 0.9;
  }

  .legend span {
    margin-right: 14px;
  }
</style>

<div class="d-flex justify-content-between align-items-center mb-3">
  <h4 class="mb-0">
    <i class="bi bi-calendar-check me-2"></i>
    Chấm công tháng {{ month }} – {{ user.full_name or user.username }}
  </h4>

  <a href="{{ url_for('web_ui.admin_dashboard') }}"
     class="btn btn-outline-secondary btn-sm">
    <i class="bi bi-arrow-left"></i> Quay lại
  </a>
</div>

<!-- LEGEND -->
<div class="legend mb-3">
  <span class="badge bg-danger">Chưa chấm</span>
  <span class="badge bg-warning text-dark">Chưa check-out</span>
  <span class="badge bg-success">Đủ ca</span>
</div>

<!-- GRID NGÀY -->
<div class="month-grid">
  {% for day, status in daily_status.items() %}
    <div
      class="card day-card text-center
        {% if status == 2 %} bg-success text-white
        {% elif status == 1 %} bg-warning text-dark
        {% else %} bg-danger text-white
        {% endif %}
      "
      title="Ngày {{ day }}"
    >
      <div class="card-body d-flex flex-column justify-content-center p-2">
        <div class="day-number">{{ day }}</div>

        {% if status == 2 %}
          <div class="day-status">Đủ ca</div>
        {% elif status == 1 %}
          <div class="day-status">Chưa check-out</div>
        {% else %}
          <div class="day-status">Chưa chấm công</div>
        {% endif %}
      </div>
    </div>
  {% endfor %}
</div>

{% endblock %}
